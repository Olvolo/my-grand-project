# Генеральный План Проекта: "Памятник Духовной Традиции"

## Цель Проекта

Создание цифрового архива и посвящения духовной традиции, центрированной вокруг **Учителя Бидии Дандаровича Дандарона**, с представлением его собственных трудов, работ его учеников, биографических материалов и возможностью ограниченного доступа к контенту.

## Ключевые Сущности и Их Структура (Мышление Данными)

### 1. Учитель (Бидия Дандарон)
* **Уникальная Сущность:** Отдельная, центральная фигура проекта.
* **Профиль Учителя:** Специальная, статичная страница с детальной биографией, фотогалереей, ключевыми датами, ссылками на все его работы.

### 2. Ученики (Авторы)
* **Модель `Author`:** Представляет учеников (и потенциально Учителя как специального автора).
    * **Поля:** `name` (имя), `slug` (для URL), `bio` (биография, Markdown), `photo` (ссылка на изображение профиля).
    * **Роль/Тип:** Возможно, поле `type` (например, "Учитель", "Ученик") для категоризации.
* **Страницы Профилей Учеников:** Отдельные страницы для каждого ученика с биографией и списком их публикаций.
* **Галерея Учеников:** Страница с обзором всех учеников (фото, имя), ведущая на их профили.

### 3. Контент: Книги и Статьи

* **Модель `Book` (Книга):**
    * **Поля:** `title`, `slug`, `description` (аннотация, Markdown), `cover_image` (обложка), `publication_year`, `language`, `publisher`.
    * **Связи:** `many-to-many` с `authors` (для нескольких авторов).
    * `hasMany` с `Chapter` (много глав).
* **Модель `Chapter` (Глава):**
    * **Поля:** `book_id` (FK), `title`, `slug`, `content` (HTML после конвертации из Markdown), `order` (для сортировки).
* **Модель `Article` (Статья):**
    * **Поля:** `title`, `slug`, `content` (HTML), `publication_date`, `category_id` (FK), `language`.
    * **Связи:** `many-to-many` с `authors`.
    * `many-to-many` с `Tag` (много тегов).
* **Формат Контента:** Весь текстовый контент (биографии, описания, главы, статьи) пишется в **Markdown** и преобразуется в **HTML** при импорте.
    * **Встроенные элементы:** Изображения, схемы, таблицы, ссылки-сноски будут встраиваться в Markdown.
    * **Управление Медиафайлами:** Изображения будут храниться в `storage/app/public/books/`, `storage/app/public/articles/`, `storage/app/public/authors/` и доступны через символическую ссылку (`/storage/...`).

### 4. Управление Контентом и Доступом

* **Административная Панель (CMS):**
    * Будет использоваться для управления всеми сущностями (Авторы, Книги, Главы, Статьи, Категории, Теги, Пользователи).
    * **Инструменты импорта:** Ключевая **Artisan-команда** для автоматического импорта книг и статей из Markdown-файлов.
* **Управление Пользователями и Скрытый Контент:**
    * **Модель `User`:** Стандартная для аутентификации.
    * **Авторизация Laravel:** Для управления доступом.
    * **Поле Доступа:** Добавление поля (`is_hidden` / `access_level`) к моделям `Book`, `Chapter`, `Article` для контроля видимости контента только для зарегистрированных пользователей.

## Пользовательский Интерфейс и Навигация

### 1. Разделы Сайта
* **Главная Страница:** Введение в традицию, анонсы, избранные материалы.
* **"Учитель Бидия Дандарон":** Отдельный раздел.
* **"Книги":** Обзор всех книг, фильтры, ведет на Оглавление книги.
* **"Статьи":** Обзор всех статей, фильтры, категории, теги.
* **"Ученики":** Галерея учеников, ссылки на их профили.
* **"Дополнительные Материалы":** Для аудио/видео/лекций (возможно, ссылки на внешние ресурсы).
* **Статические Страницы:** "Контакты", "О Проекте".
* **"Поиск":** Полнотекстовый поиск по контенту.
* **"Вход / Регистрация".**

### 2. Дизайн и Стилизация
* **Tailwind CSS:** Для создания чистого, адаптивного дизайна.
* **`@tailwindcss/typography` (`prose`):** Автоматическое красивое форматирование Markdown-контента.
* **Разные Фоны Страниц:** Реализация через классы Tailwind CSS в Blade-шаблонах.

### 3. Навигация и Взаимные Ссылки
* **Главное Меню:** Навигация по основным разделам.
* **Взаимные Ссылки:** Использование Laravel роутинга для ссылок между статьями, главами, профилями авторов внутри Markdown-контента.

## Рабочий Процесс с Инструментами

* **Laravel:** Основа бэкенда, роутинг, ORM (Eloquent), аутентификация.
* **Vite:** Быстрая сборка фронтенд-активов (JS, CSS).
* **Tailwind CSS v4 + `@tailwindcss/vite`:** Для стилизации и автоматизации обработки CSS.
* **`league/commonmark`:** Для конвертации Markdown в HTML.
* **Artisan-команды:** Для автоматического импорта контента.
* **PHPStorm:** Основная IDE с плагином Laravel для автодополнения и интеграции с БД.

---
